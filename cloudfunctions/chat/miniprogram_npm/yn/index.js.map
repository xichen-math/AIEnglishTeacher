{"version":3,"sources":["index.js","lenient.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;ADIA,ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["\r\nconst lenient = require('./lenient');\r\n\r\nconst yn = (input, options) => {\r\n\tinput = String(input).trim();\r\n\r\n\toptions = Object.assign({\r\n\t\tlenient: false,\r\n\t\tdefault: null\r\n\t}, options);\r\n\r\n\tif (options.default !== null && typeof options.default !== 'boolean') {\r\n\t\tthrow new TypeError(`Expected the \\`default\\` option to be of type \\`boolean\\`, got \\`${typeof options.default}\\``);\r\n\t}\r\n\r\n\tif (/^(?:y|yes|true|1)$/i.test(input)) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tif (/^(?:n|no|false|0)$/i.test(input)) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (options.lenient === true) {\r\n\t\treturn lenient(input, options);\r\n\t}\r\n\r\n\treturn options.default;\r\n};\r\n\r\nmodule.exports = yn;\r\n// TODO: Remove this for the next major release\r\nmodule.exports.default = yn;\r\n","\r\n\r\nconst YES_MATCH_SCORE_THRESHOLD = 2;\r\nconst NO_MATCH_SCORE_THRESHOLD = 1.25;\r\n\r\nconst yMatch = new Map([\r\n\t[5, 0.25],\r\n\t[6, 0.25],\r\n\t[7, 0.25],\r\n\t['t', 0.75],\r\n\t['y', 1],\r\n\t['u', 0.75],\r\n\t['g', 0.25],\r\n\t['h', 0.25],\r\n\t['j', 0.25]\r\n]);\r\n\r\nconst eMatch = new Map([\r\n\t[2, 0.25],\r\n\t[3, 0.25],\r\n\t[4, 0.25],\r\n\t['w', 0.75],\r\n\t['e', 1],\r\n\t['r', 0.75],\r\n\t['s', 0.25],\r\n\t['d', 0.25],\r\n\t['f', 0.25]\r\n]);\r\n\r\nconst sMatch = new Map([\r\n\t['q', 0.25],\r\n\t['w', 0.25],\r\n\t['e', 0.25],\r\n\t['a', 0.75],\r\n\t['s', 1],\r\n\t['d', 0.75],\r\n\t['z', 0.25],\r\n\t['x', 0.25],\r\n\t['c', 0.25]\r\n]);\r\n\r\nconst nMatch = new Map([\r\n\t['h', 0.25],\r\n\t['j', 0.25],\r\n\t['k', 0.25],\r\n\t['b', 0.75],\r\n\t['n', 1],\r\n\t['m', 0.75]\r\n]);\r\n\r\nconst oMatch = new Map([\r\n\t[9, 0.25],\r\n\t[0, 0.25],\r\n\t['i', 0.75],\r\n\t['o', 1],\r\n\t['p', 0.75],\r\n\t['k', 0.25],\r\n\t['l', 0.25]\r\n]);\r\n\r\nfunction getYesMatchScore(value) {\r\n\tconst [y, e, s] = value;\r\n\tlet score = 0;\r\n\r\n\tif (yMatch.has(y)) {\r\n\t\tscore += yMatch.get(y);\r\n\t}\r\n\r\n\tif (eMatch.has(e)) {\r\n\t\tscore += eMatch.get(e);\r\n\t}\r\n\r\n\tif (sMatch.has(s)) {\r\n\t\tscore += sMatch.get(s);\r\n\t}\r\n\r\n\treturn score;\r\n}\r\n\r\nfunction getNoMatchScore(value) {\r\n\tconst [n, o] = value;\r\n\tlet score = 0;\r\n\r\n\tif (nMatch.has(n)) {\r\n\t\tscore += nMatch.get(n);\r\n\t}\r\n\r\n\tif (oMatch.has(o)) {\r\n\t\tscore += oMatch.get(o);\r\n\t}\r\n\r\n\treturn score;\r\n}\r\n\r\nmodule.exports = (input, options) => {\r\n\tif (getYesMatchScore(input) >= YES_MATCH_SCORE_THRESHOLD) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tif (getNoMatchScore(input) >= NO_MATCH_SCORE_THRESHOLD) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\treturn options.default;\r\n};\r\n"]}