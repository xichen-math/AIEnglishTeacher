{"version":3,"sources":["stringify.js"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.js","sourcesContent":["exports = module.exports = stringify\r\nexports.getSerialize = serializer\r\n\r\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\r\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces)\r\n}\r\n\r\nfunction serializer(replacer, cycleReplacer) {\r\n  var stack = [], keys = []\r\n\r\n  if (cycleReplacer == null) cycleReplacer = function(key, value) {\r\n    if (stack[0] === value) return \"[Circular ~]\"\r\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\"\r\n  }\r\n\r\n  return function(key, value) {\r\n    if (stack.length > 0) {\r\n      var thisPos = stack.indexOf(this)\r\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this)\r\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key)\r\n      if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value)\r\n    }\r\n    else stack.push(value)\r\n\r\n    return replacer == null ? value : replacer.call(this, key, value)\r\n  }\r\n}\r\n"]}